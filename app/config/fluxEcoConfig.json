{
  "$schema": "../../../flux-eco-app/app/schema/flux-eco-app-schema.json",
  "endpoints": {
    "http": {
      "server": {
        "port": "${HTTP_SERVER_PORT}",
        "host": "${HTTP_SERVER_HOST}"
      },
      "policies": {
        "allowedHeaders": "${HTTP_SERVER_REQUIRED_HEADERS}",
        "allowedIps": "${HTTP_SERVER_ALLOWED_IPS}"
      },
      "actions": {
        "getRepositoryTree": {
          "method": "GET",
          "policies": ["allowedHeaders", "allowedIps"],
          "path": "/getRepositoryTree",
          "handlerType": "callable"
        }
      }
    },
    "bindings": {
      "iliasDatabase": {
        "serverConfig": {
          "port": "${DATABASE_PORT}",
          "host": "${DATABASE_HOST}",
          "database": "${DATABASE_DATABASE}",
          "password": "${DATABASE_PASSWORD}",
          "username": "${DATABASE_USERNAME}"
        },
        "boundActions": {
          "getRepositoryTree": "handleRepositoryTreeQuery"
        }
      }
    }
  }
}